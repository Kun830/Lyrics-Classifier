### 音乐风格分类

#### 1.项目结构

**conf**: 储存配置文件，主要是爬取或者训练时的文件存放地址，以及爬取歌单的目标地址

**data**: 按照歌曲类型，分文件夹储存爬取数据以及公共的停用词

**model**: 储存生成的tfidf向量、lsi模型以及训练好的SVM分类预测模型

**src**: 存放执行爬虫、训练以及预测的代码

**tools**: 负责对于文件进行读取



#### 2.软件依赖

Python == 3.7

gensim == 3.2.0

scipy == 0.19.0

sklearn == 0.18.2

numpy == 1.12.1

jieba == 0.39

selenium == 3.4.3

beautifulsoup4 == 4.6.0

multiprocessing == 2.6.2.1

Chrome Driver == 78



#### 3.参数说明

本项目预测输入数据在src/predict.py中，如下所示：



```python
if __name__ == '__main__':

​    doc = """

​    我有一个好爸爸

​    """

​    print(predict(doc))


```

修改doc即可调整预测输入。



#### 4.数据说明

本项目使用数据来自网易云音乐用户歌单，其中歌单地址存放于conf\crawl_conf.py中



#### 5.运行说明

以下步骤中，第一步对应数据爬取（大约耗时3小时），第二步对应模型训练（大约耗时10秒），第三步为预测分类（大约耗时1秒）。

1. （可选）配置好环境后，先清空data文件夹下，除stopWord.txt文件以外的文件（已经爬取到的数据），接着进入src目录，在该目录下，使用python3.7运行crawl.py文件，对于歌词数据进行爬取。
2. 接下来，清空model文件夹下所有文件（之前测试生成的模型数据），在src目录下，使用python3.7运行train.py文件，进行歌词分类的训练与测试。
3. 打开src/predict.py，修改doc字符串内容，该字符串作为预测输入，在src目录下使用python3.7运行predict.py文件，即可得到预测分类结果。

进行数据爬取。